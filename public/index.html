<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ Music Player Pro</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Theme Toggle Button -->
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
        <span class="theme-icon">üåô</span>
    </button>

    <!-- Main Container -->
    <div class="container">
        
        <!-- Header Section -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üì±</span>
                <h1>Music Player</h1>
            </div>
            <div class="header-actions">
                <button id="uploadBtn" class="btn btn-primary">
                    <span>üì§</span> Upload Music
                </button>
                <button id="createPlaylistBtn" class="btn btn-secondary">
                    <span>‚ûï</span> New Playlist
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>Library</h3>
                    <nav class="sidebar-nav">
                        <button class="nav-item active" data-view="all-tracks">
                            <span>üéµ</span> All Tracks
                        </button>
                        <button class="nav-item" data-view="playlists">
                            <span>üìã</span> Playlists
                        </button>
                        <button class="nav-item" data-view="genres">
                            <span>üé∏</span> Genres
                        </button>
                        <button class="nav-item" data-view="artists">
                            <span>üé§</span> Artists
                        </button>
                    </nav>
                </div>

                <!-- Playlists List -->
                <div class="sidebar-section">
                    <h3>Your Playlists</h3>
                    <div id="playlistsSidebar" class="playlists-list">
                        <!-- Dynamically loaded playlists -->
                    </div>
                </div>
            </aside>

            <!-- Content Area -->
            <main class="content">
                
                <!-- Search Bar -->
                <div class="search-section">
                    <div class="search-bar">
                        <span class="search-icon">üîç</span>
                        <input 
                            type="text" 
                            id="searchInput" 
                            placeholder="Search for tracks, artists, albums..."
                            autocomplete="off"
                        >
                        <button id="clearSearch" class="clear-search">‚úï</button>
                    </div>
                </div>

                <!-- Current View Title -->
                <div class="view-header">
                    <h2 id="viewTitle">All Tracks</h2>
                    <p id="viewSubtitle" class="view-subtitle"></p>
                </div>

                <!-- Tracks Grid/List -->
                <div id="tracksContainer" class="tracks-grid">
                    <!-- Loading spinner -->
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Loading tracks...</p>
                    </div>
                </div>

            </main>
        </div>

        <!-- Music Player -->
        <div class="player">
            <div class="player-track-info">
                <div class="track-artwork">
                    <span class="artwork-placeholder">üéµ</span>
                </div>
                <div class="track-details">
                    <h4 id="currentTrackTitle">No track playing</h4>
                    <p id="currentTrackArtist">Select a track to begin</p>
                </div>
            </div>

            <div class="player-controls">
                <div class="main-controls">
                    <button id="shuffleBtn" class="control-btn" title="Shuffle">
                        <span>üîÄ</span>
                    </button>
                    <button id="prevBtn" class="control-btn" title="Previous">
                        <span>‚èÆÔ∏è</span>
                    </button>
                    <button id="playPauseBtn" class="control-btn play-btn" title="Play">
                        <span>‚ñ∂Ô∏è</span>
                    </button>
                    <button id="nextBtn" class="control-btn" title="Next">
                        <span>‚è≠Ô∏è</span>
                    </button>
                    <button id="repeatBtn" class="control-btn" title="Repeat Off">
                        <span>üîÅ</span>
                    </button>
                </div>

                <div class="progress-container">
                    <span id="currentTime" class="time">0:00</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                        <input 
                            type="range" 
                            id="progressBar" 
                            class="progress-input" 
                            min="0" 
                            max="100" 
                            value="0"
                        >
                    </div>
                    <span id="duration" class="time">0:00</span>
                </div>
            </div>

            <div class="player-volume">
                <button id="volumeBtn" class="control-btn" title="Mute">
                    <span id="volumeIcon">üîä</span>
                </button>
                <div class="volume-slider-container">
                    <input 
                        type="range" 
                        id="volumeSlider" 
                        class="volume-slider" 
                        min="0" 
                        max="100" 
                        value="80"
                    >
                </div>
                <button id="queueBtn" class="control-btn" title="Queue">
                    <span>üìú</span>
                </button>
            </div>
        </div>

    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload Music</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üìÅ</div>
                    <p>Drag & drop audio files here</p>
                    <p class="upload-hint">or</p>
                    <button class="btn btn-primary" id="selectFileBtn">
                        Select Files
                    </button>
                    <input 
                        type="file" 
                        id="fileInput" 
                        accept="audio/*" 
                        multiple 
                        style="display: none;"
                    >
                    <p class="upload-formats">Supported: MP3, WAV, OGG, M4A, FLAC, AAC</p>
                </div>
                <div id="uploadProgress" class="upload-progress" style="display: none;">
                    <div class="upload-file-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Playlist Modal -->
    <div id="playlistModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Playlist</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="playlistForm">
                    <div class="form-group">
                        <label for="playlistName">Playlist Name</label>
                        <input 
                            type="text" 
                            id="playlistName" 
                            class="form-control" 
                            placeholder="My Awesome Playlist"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="playlistDescription">Description (Optional)</label>
                        <textarea 
                            id="playlistDescription" 
                            class="form-control" 
                            placeholder="Add a description..."
                            rows="3"
                        ></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create Playlist</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Queue Modal -->
    <div id="queueModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Play Queue</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="queueList" class="queue-list">
                    <!-- Queue items will be added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="audioPlayer" preload="metadata"></audio>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- JavaScript -->
    <script src="js/api.js"></script>
    <script src="js/player.js"></script>
    <script src="js/script.js"></script>
</body>
</html>